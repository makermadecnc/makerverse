[{"/Users/zaneclaes/OWS/Makerverse/App/src/lib/Makerverse/index.ts":"1","/Users/zaneclaes/OWS/Makerverse/App/src/components/Login/CallbackPage.tsx":"2","/Users/zaneclaes/OWS/Makerverse/App/src/views/Docs/index.tsx":"3","/Users/zaneclaes/OWS/Makerverse/App/src/lib/workspaces/workspace-axis.ts":"4","/Users/zaneclaes/OWS/Makerverse/App/src/components/Navigation/UserMenu.tsx":"5","/Users/zaneclaes/OWS/Makerverse/App/src/components/Login/LoginPage.tsx":"6","/Users/zaneclaes/OWS/Makerverse/App/src/components/Navigation/ListMenu.tsx":"7","/Users/zaneclaes/OWS/Makerverse/App/src/lib/Makerverse/MakerverseContext.ts":"8","/Users/zaneclaes/OWS/Makerverse/App/src/views/index.ts":"9","/Users/zaneclaes/OWS/Makerverse/App/src/components/Login/index.ts":"10","/Users/zaneclaes/OWS/Makerverse/App/src/components/Navigation/index.tsx":"11","/Users/zaneclaes/OWS/Makerverse/App/src/lib/workspaces/active-state.ts":"12","/Users/zaneclaes/OWS/Makerverse/App/src/constants/docs.ts":"13","/Users/zaneclaes/OWS/Makerverse/App/src/views/WorkspaceCreator/index.tsx":"14","/Users/zaneclaes/OWS/Makerverse/App/src/components/Login/Styles.ts":"15","/Users/zaneclaes/OWS/Makerverse/App/src/store/redux.ts":"16","/Users/zaneclaes/OWS/Makerverse/App/src/components/Navigation/Styles.ts":"17","/Users/zaneclaes/OWS/Makerverse/App/src/lib/workspaces/workspace.ts":"18","/Users/zaneclaes/OWS/Makerverse/App/src/views/WorkspaceCreator/Styles.ts":"19","/Users/zaneclaes/OWS/Makerverse/App/src/lib/semvers.ts":"20","/Users/zaneclaes/OWS/Makerverse/App/src/components/Navigation/HeaderBar.tsx":"21","/Users/zaneclaes/OWS/Makerverse/App/src/components/Navigation/ListMenuItem.tsx":"22","/Users/zaneclaes/OWS/Makerverse/App/src/components/Navigation/NotFound.tsx":"23","/Users/zaneclaes/OWS/Makerverse/App/src/components/Navigation/SideDrawer.tsx":"24","/Users/zaneclaes/OWS/Makerverse/App/src/lib/analytics.ts":"25","/Users/zaneclaes/OWS/Makerverse/App/src/views/Workspace/index.tsx":"26","/Users/zaneclaes/OWS/Makerverse/App/src/components/Navigation/ProtectedRoute.tsx":"27","/Users/zaneclaes/OWS/Makerverse/App/src/lib/Makerverse/Workspaces.ts":"28","/Users/zaneclaes/OWS/Makerverse/App/src/lib/Makerverse/Hooks.ts":"29","/Users/zaneclaes/OWS/Makerverse/App/src/views/App.tsx":"30","/Users/zaneclaes/OWS/Makerverse/App/src/lib/suspend.ts":"31","/Users/zaneclaes/OWS/Makerverse/App/src/views/Home/index.tsx":"32","/Users/zaneclaes/OWS/Makerverse/App/src/views/Settings/index.tsx":"33","/Users/zaneclaes/OWS/Makerverse/App/src/lib/Makerverse/types.ts":"34","/Users/zaneclaes/OWS/Makerverse/App/src/views/ProtectedApp.tsx":"35","/Users/zaneclaes/OWS/Makerverse/App/src/lib/Makerverse/apollo.ts":"36","/Users/zaneclaes/OWS/Makerverse/App/src/lib/Makerverse/reducers.ts":"37","/Users/zaneclaes/OWS/Makerverse/App/src/components/Navigation/ReconnectRedirect.tsx":"38","/Users/zaneclaes/OWS/Makerverse/App/src/lib/workspaces/index.ts":"39","/Users/zaneclaes/OWS/Makerverse/App/src/components/Ports/PortStatus.tsx":"40","/Users/zaneclaes/OWS/Makerverse/App/src/components/Ports/OpenMachinePort.tsx":"41","/Users/zaneclaes/OWS/Makerverse/App/src/components/Ports/PortSelect.tsx":"42","/Users/zaneclaes/OWS/Makerverse/App/src/components/Ports/Styles.ts":"43","/Users/zaneclaes/OWS/Makerverse/App/src/providers/MakerverseProvider.tsx":"44","/Users/zaneclaes/OWS/Makerverse/App/src/providers/MakerverseHooks.ts":"45","/Users/zaneclaes/OWS/Makerverse/App/src/providers/SystemPortProvider.tsx":"46","/Users/zaneclaes/OWS/Makerverse/App/src/providers/SystemPortHooks.ts":"47","/Users/zaneclaes/OWS/Makerverse/App/src/providers/index.ts":"48","/Users/zaneclaes/OWS/Makerverse/App/src/providers/SystemPortContext.ts":"49","/Users/zaneclaes/OWS/Makerverse/App/src/components/Ports/PortConnectionSteps.tsx":"50"},{"size":116,"mtime":1606082835097,"results":"51","hashOfConfig":"52"},{"size":2801,"mtime":1606327522539,"results":"53","hashOfConfig":"54"},{"size":843,"mtime":1606742886299,"results":"55","hashOfConfig":"56"},{"size":4959,"mtime":1606241698259,"results":"57","hashOfConfig":"56"},{"size":3553,"mtime":1606520794228,"results":"58","hashOfConfig":"56"},{"size":4256,"mtime":1606740707435,"results":"59","hashOfConfig":"56"},{"size":2953,"mtime":1606770045671,"results":"60","hashOfConfig":"56"},{"size":955,"mtime":1606326279282,"results":"61","hashOfConfig":"54"},{"size":252,"mtime":1605977384904,"results":"62","hashOfConfig":"56"},{"size":110,"mtime":1605810123128,"results":"63","hashOfConfig":"54"},{"size":844,"mtime":1606501614649,"results":"64","hashOfConfig":"56"},{"size":9880,"mtime":1606497234574,"results":"65","hashOfConfig":"56"},{"size":107,"mtime":1605716721482,"results":"66","hashOfConfig":"56"},{"size":1272,"mtime":1606506963305,"results":"67","hashOfConfig":"56"},{"size":1146,"mtime":1606155670333,"results":"68","hashOfConfig":"54"},{"size":1085,"mtime":1606319571150,"results":"69","hashOfConfig":"54"},{"size":2302,"mtime":1605970335421,"results":"70","hashOfConfig":"56"},{"size":17155,"mtime":1606603885830,"results":"71","hashOfConfig":"56"},{"size":280,"mtime":1606329480059,"results":"72","hashOfConfig":"54"},{"size":1031,"mtime":1605726040464,"results":"73","hashOfConfig":"54"},{"size":1453,"mtime":1606240046501,"results":"74","hashOfConfig":"56"},{"size":989,"mtime":1606501901763,"results":"75","hashOfConfig":"56"},{"size":380,"mtime":1605811998908,"results":"76","hashOfConfig":"56"},{"size":1289,"mtime":1606502381033,"results":"77","hashOfConfig":"54"},{"size":2104,"mtime":1606243840960,"results":"78","hashOfConfig":"54"},{"size":792,"mtime":1606770689863,"results":"79","hashOfConfig":"56"},{"size":944,"mtime":1605811448830,"results":"80","hashOfConfig":"56"},{"size":2290,"mtime":1606240779634,"results":"81","hashOfConfig":"54"},{"size":236,"mtime":1606240131658,"results":"82","hashOfConfig":"56"},{"size":2047,"mtime":1606770563239,"results":"83","hashOfConfig":"56"},{"size":673,"mtime":1606233875442,"results":"84","hashOfConfig":"54"},{"size":338,"mtime":1606245292423,"results":"85","hashOfConfig":"54"},{"size":170,"mtime":1605811767094,"results":"86","hashOfConfig":"54"},{"size":516,"mtime":1606319024702,"results":"87","hashOfConfig":"54"},{"size":2332,"mtime":1606756652038,"results":"88","hashOfConfig":"56"},{"size":2602,"mtime":1606328023449,"results":"89","hashOfConfig":"56"},{"size":515,"mtime":1606319024700,"results":"90","hashOfConfig":"54"},{"size":572,"mtime":1606327522536,"results":"91","hashOfConfig":"56"},{"size":52,"mtime":1605977443411,"results":"92","hashOfConfig":"54"},{"size":2567,"mtime":1606768546547,"results":"93","hashOfConfig":"56"},{"size":5924,"mtime":1606827928153,"results":"94","hashOfConfig":"56"},{"size":2971,"mtime":1606839278332,"results":"95","hashOfConfig":"56"},{"size":529,"mtime":1606515489175,"results":"96","hashOfConfig":"54"},{"size":3902,"mtime":1606569074931,"results":"97","hashOfConfig":"56"},{"size":526,"mtime":1606769913576,"results":"98","hashOfConfig":"56"},{"size":2572,"mtime":1606761621901,"results":"99","hashOfConfig":"56"},{"size":200,"mtime":1606577019220,"results":"100","hashOfConfig":"56"},{"size":35,"mtime":1606568597072,"results":"101","hashOfConfig":"56"},{"size":422,"mtime":1606577054184,"results":"102","hashOfConfig":"56"},{"size":4784,"mtime":1606831011695,"results":"103","hashOfConfig":"56"},{"filePath":"104","messages":"105","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"pz68q5",{"filePath":"106","messages":"107","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"108","usedDeprecatedRules":"109"},"1999au8",{"filePath":"110","messages":"111","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"157vcus",{"filePath":"112","messages":"113","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"114","messages":"115","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"116","messages":"117","errorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"118","messages":"119","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"120","messages":"121","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"122","messages":"123","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"124"},{"filePath":"125","messages":"126","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"127"},{"filePath":"128","messages":"129","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"130"},{"filePath":"131","messages":"132","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"133","messages":"134","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"130"},{"filePath":"135","messages":"136","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"137","messages":"138","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"139"},{"filePath":"140","messages":"141","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"127"},{"filePath":"142","messages":"143","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"130"},{"filePath":"144","messages":"145","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"146","messages":"147","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"148"},{"filePath":"149","messages":"150","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"127"},{"filePath":"151","messages":"152","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"153","messages":"154","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"155","messages":"156","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"157","messages":"158","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"159"},{"filePath":"160","messages":"161","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"162","messages":"163","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"164","messages":"165","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"166","messages":"167","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"168","usedDeprecatedRules":"127"},{"filePath":"169","messages":"170","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"171","messages":"172","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"173"},{"filePath":"174","messages":"175","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"176"},{"filePath":"177","messages":"178","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"179","messages":"180","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"127"},{"filePath":"181","messages":"182","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"109"},{"filePath":"183","messages":"184","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"185","messages":"186","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"187","usedDeprecatedRules":"130"},{"filePath":"188","messages":"189","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"190"},{"filePath":"191","messages":"192","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"130"},{"filePath":"193","messages":"194","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"139"},{"filePath":"195","messages":"196","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"197","messages":"198","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"199","messages":"200","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"201","messages":"202","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"203","messages":"204","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"205","usedDeprecatedRules":"124"},{"filePath":"206","messages":"207","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"208","messages":"209","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"210","messages":"211","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"212","messages":"213","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"214","messages":"215","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"216","messages":"217","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/zaneclaes/OWS/Makerverse/App/src/lib/Makerverse/index.ts",[],"/Users/zaneclaes/OWS/Makerverse/App/src/components/Login/CallbackPage.tsx",["218","219","220","221"],"import {Typography } from '@material-ui/core';\nimport useLogger from '@openworkshop/lib/utils/logging/UseLogger';\nimport AlertList from '@openworkshop/ui/components/Alerts/AlertList';\nimport ToolbarCard from '@openworkshop/ui/components/Cards/ToolbarCard';\nimport ThreeColumns from '@openworkshop/ui/components/Layout/ThreeColumns';\nimport { User } from 'oidc-client';\nimport React, { FunctionComponent } from 'react';\nimport {Trans, useTranslation } from 'react-i18next';\nimport { Link, Redirect } from 'react-router-dom';\nimport { CallbackComponent } from 'redux-oidc';\nimport analytics from '../../lib/analytics';\nimport {MakerverseContext} from '../../lib/Makerverse';\nimport ReconnectRedirect from '../Navigation/ReconnectRedirect';\nimport useStyles from './Styles';\n\ninterface OwnProps {\n  children: React.ReactNode;\n}\n\ntype Props = OwnProps;\n\nconst CallbackPage: FunctionComponent<Props> = (props) => {\n  const { t } = useTranslation();\n  const log = useLogger(CallbackPage);\n  const classes = useStyles();\n  const [error, setError] = React.useState<Error | undefined>(undefined);\n  const [token, setToken] = React.useState<string | undefined>(undefined);\n  const makerverse = React.useContext(MakerverseContext);\n\n  const isLoading = !error && !token;\n\n  function handleSuccess(oidc: User) {\n    log.debug('success', oidc);\n    setError(undefined);\n    analytics.event({\n      category: 'interaction',\n      action: 'logged-in',\n    });\n    setToken(oidc.access_token);\n  }\n\n  function handleError(err: Error) {\n    log.debug(err);\n    setError(err);\n    analytics.event({\n      category: 'interaction',\n      action: 'login-error',\n      label: `${err.name}: ${err.message}`,\n    });\n  }\n\n  function renderError(err: Error) {\n    return <AlertList error={err} />;\n  }\n\n  const footer = error ? <Typography className={classes.centered} variant=\"subtitle1\">\n    <Link to=\"/login\">\n      <Trans>Return to Login</Trans>\n    </Link>\n  </Typography> : undefined;\n\n  function renderBody() {\n    if (error) {\n      return <AlertList error={error} />;\n    }\n    if (token) {\n      return (\n        // After login, the session needs to be recreated to change the user.\n        <ReconnectRedirect to=\"/\" />\n      );\n    }\n    return (\n      <CallbackComponent\n        userManager={makerverse.ows.authManager}\n        successCallback={handleSuccess}\n        errorCallback={handleError}\n      >\n        <Typography variant=\"subtitle1\" className={classes.centered}>\n          <Trans>Exchanging keys with gatekeeper...</Trans>\n        </Typography>\n      </CallbackComponent>\n    );\n  }\n\n  return (\n    <ThreeColumns>\n      <ToolbarCard\n        title={t('Authentication')}\n        footer={footer}\n      >\n        {renderBody()}\n      </ToolbarCard>\n    </ThreeColumns>\n  );\n};\n\nexport default CallbackPage;\n",[],"/Users/zaneclaes/OWS/Makerverse/App/src/views/Docs/index.tsx",[],"/Users/zaneclaes/OWS/Makerverse/App/src/lib/workspaces/workspace-axis.ts",[],"/Users/zaneclaes/OWS/Makerverse/App/src/components/Navigation/UserMenu.tsx",["222","223"],"/Users/zaneclaes/OWS/Makerverse/App/src/components/Login/LoginPage.tsx",["224","225","226","227","228","229","230","231","232"],"/Users/zaneclaes/OWS/Makerverse/App/src/components/Navigation/ListMenu.tsx",["233","234","235","236","237"],"/Users/zaneclaes/OWS/Makerverse/App/src/lib/Makerverse/MakerverseContext.ts",[],"/Users/zaneclaes/OWS/Makerverse/App/src/views/index.ts",[],[],"/Users/zaneclaes/OWS/Makerverse/App/src/components/Login/index.ts",[],[],"/Users/zaneclaes/OWS/Makerverse/App/src/components/Navigation/index.tsx",[],[],"/Users/zaneclaes/OWS/Makerverse/App/src/lib/workspaces/active-state.ts",[],"/Users/zaneclaes/OWS/Makerverse/App/src/constants/docs.ts",[],"/Users/zaneclaes/OWS/Makerverse/App/src/views/WorkspaceCreator/index.tsx",[],"/Users/zaneclaes/OWS/Makerverse/App/src/components/Login/Styles.ts",[],[],"/Users/zaneclaes/OWS/Makerverse/App/src/store/redux.ts",[],"/Users/zaneclaes/OWS/Makerverse/App/src/components/Navigation/Styles.ts",[],"/Users/zaneclaes/OWS/Makerverse/App/src/lib/workspaces/workspace.ts",["238","239","240","241","242"],"/Users/zaneclaes/OWS/Makerverse/App/src/views/WorkspaceCreator/Styles.ts",[],[],"/Users/zaneclaes/OWS/Makerverse/App/src/lib/semvers.ts",[],"/Users/zaneclaes/OWS/Makerverse/App/src/components/Navigation/HeaderBar.tsx",["243","244"],"/Users/zaneclaes/OWS/Makerverse/App/src/components/Navigation/ListMenuItem.tsx",[],"/Users/zaneclaes/OWS/Makerverse/App/src/components/Navigation/NotFound.tsx",[],"/Users/zaneclaes/OWS/Makerverse/App/src/components/Navigation/SideDrawer.tsx",[],[],"/Users/zaneclaes/OWS/Makerverse/App/src/lib/analytics.ts",["245","246","247","248"],"/Users/zaneclaes/OWS/Makerverse/App/src/views/Workspace/index.tsx",[],"/Users/zaneclaes/OWS/Makerverse/App/src/components/Navigation/ProtectedRoute.tsx",[],"/Users/zaneclaes/OWS/Makerverse/App/src/lib/Makerverse/Workspaces.ts",["249","250","251"],"import { IOpenWorkShop } from '@openworkshop/lib';\nimport {Logger} from '@openworkshop/lib/utils/logging/Logger';\nimport _ from 'lodash';\nimport Workspace from 'lib/workspaces/workspace';\nimport {WorkspaceRecord} from '../workspaces/types';\nimport {IMakerverse} from './MakerverseContext';\n\nexport type WorkspaceMap = { [key: string]: Workspace };\n\nexport default class Workspaces {\n  _makerverse: IMakerverse;\n\n  _currentWorkspace?: Workspace = undefined;\n\n  _all: WorkspaceMap = {};\n\n  _log?: Logger = undefined;\n\n  constructor(makerverse: IMakerverse) {\n    this._makerverse = makerverse;\n  }\n  //\n  // get all(): WorkspaceMap {\n  //   return this._all;\n  // }\n  //\n  // get current(): Workspace | undefined {\n  //   return this._currentWorkspace;\n  // }\n  //\n  // set current(ws: Workspace | undefined) {\n  //   this.log.debug('setting workspace to', ws?.id);\n  //   if (this.current) {\n  //     if (ws && ws.id === this.current.id) {\n  //       return;\n  //     }\n  //     this.current.isActive = false;\n  //   }\n  //   this._currentWorkspace = ws;\n  //   if (this.current) {\n  //     this.current.isActive = true;\n  //   }\n  // }\n  //\n  // findByPath(path: string): Workspace | undefined {\n  //   if (path.startsWith('/workspaces')) {\n  //     path = path.substring('/workspaces'.length);\n  //   }\n  //   return _.find(this.all, (w) => {\n  //     return w.path === path;\n  //   });\n  // }\n  // //\n  // // load(mv: IMakerverse, record: WorkspaceRecord): Workspace | undefined {\n  // //   const id: string = record.id;\n  // //   if (_.has(this.all, id)) {\n  // //     this.all[id]._record = {\n  // //       ...this.all[id]._record,\n  // //       ...record,\n  // //     };\n  // //   } else {\n  // //     this.all[id] = new Workspace(mv, record);\n  // //   }\n  // //   return this.all[id];\n  // // }\n  //\n  // async unload(id: string): Promise<void> {\n  //   if (!_.has(this.all, id)) {\n  //     return;\n  //   }\n  //   const workspace = this.all[id];\n  //   workspace.removeControllerEvents(workspace._controllerEvents);\n  //   await workspace.closePort();\n  //   delete this.all[id];\n  // }\n  //\n  // disconnect(): void {\n  //   Object.keys(this.all).map((id) => {\n  //     const workspace: Workspace = this.all[id];\n  //     void workspace.controller.disconnect();\n  //   });\n  // }\n}\n","/Users/zaneclaes/OWS/Makerverse/App/src/lib/Makerverse/Hooks.ts",["252","253","254"],"/Users/zaneclaes/OWS/Makerverse/App/src/views/App.tsx",["255","256"],"import { useLogger } from '@openworkshop/lib/utils/logging/UseLogger';\nimport React from 'react';\nimport {Route, Switch, useLocation } from 'react-router-dom';\nimport {usePortStatusSubscription} from '../api/graphql';\nimport analytics from '../lib/analytics';\nimport settings from '../config/settings';\nimport {MakerverseContext} from '../lib/Makerverse';\nimport { Settings, Home, WorkspaceCreator, Docs, Workspace } from './';\nimport Navigation, { NotFound } from 'components/Navigation';\nimport {tryUseWorkspace} from '../providers';\n\ninterface IProps {\n  currentWorkspaceId?: string;\n}\n\nconst App: React.FunctionComponent<IProps> = (props) => {\n  const log = useLogger(App);\n  const makerverse = React.useContext(MakerverseContext);\n  const workspaceIds = makerverse.workspaces.map(ws => ws.id);\n  const workspace = tryUseWorkspace(props.currentWorkspaceId);\n  const location = useLocation();\n\n  React.useEffect(() => {\n    log.trace('app workspace', location.pathname, 'workspace', workspace?.id);\n\n    if (workspace) {\n      document.title = `${workspace.name} | ${settings.productName}`;\n      const parts = [workspace.connection.firmware.controllerType];\n      analytics.trackPage('/' + parts.join('/') + '/');\n    } else {\n      document.title = settings.productName;\n      analytics.trackPage(location.pathname);\n    }\n\n  }, [analytics, log, workspace]);\n\n  return (\n    <Navigation>\n      <Switch>\n        {workspaceIds.map((workspaceId) => {\n          return (\n            <Route exact key={workspaceId} path={`/workspaces/${workspaceId}`} >\n              <Workspace id={workspaceId} />\n            </Route>\n          );\n        })}\n        <Route exact path=\"/settings\" component={Settings} />\n        <Route exact path=\"/home\" component={Home} />\n        <Route exact path=\"/workspaces\" component={WorkspaceCreator} />\n        <Route exact path=\"/docs\" component={Docs} />\n        <Route exact path=\"/\" component={Home} />\n        <Route path=\"/\" component={NotFound} />\n      </Switch>\n    </Navigation>\n  );\n};\n\nexport default App;\n","/Users/zaneclaes/OWS/Makerverse/App/src/lib/suspend.ts",[],[],"/Users/zaneclaes/OWS/Makerverse/App/src/views/Home/index.tsx",["257"],"/Users/zaneclaes/OWS/Makerverse/App/src/views/Settings/index.tsx",[],"/Users/zaneclaes/OWS/Makerverse/App/src/lib/Makerverse/types.ts",[],"/Users/zaneclaes/OWS/Makerverse/App/src/views/ProtectedApp.tsx",["258","259","260","261","262"],"/Users/zaneclaes/OWS/Makerverse/App/src/lib/Makerverse/apollo.ts",["263"],"import {Logger} from '@openworkshop/lib/utils/logging/Logger';\nimport { SubscriptionClient } from 'subscriptions-transport-ws';\nimport {IOpenWorkShop} from '@openworkshop/lib';\nimport { WebSocketLink } from '@apollo/client/link/ws';\n\nexport type ConnectionState = 'disconnected' | 'connecting' | 'connected';\n\nexport class MakerverseSubscription {\n  private _subscriptionClient: SubscriptionClient;\n  private _webSocketLink: WebSocketLink;\n  private _ows: IOpenWorkShop;\n  private _log: Logger;\n  private _state: ConnectionState = 'disconnected';\n\n  constructor(ows: IOpenWorkShop) {\n    this._ows = ows;\n    const url = 'ws://localhost:8000/api/graphql';\n    this._log = ows.logManager.getLogger(url);\n    const subscriptionClient = new SubscriptionClient(url, {\n      reconnect: true,\n      connectionParams: async () => {\n        const user = await ows.authManager.getUser();\n        return user ? { token: user.access_token } : { };\n      },\n    });\n\n    subscriptionClient.onConnected((a) => {\n      this.log.debug('[subscription]', 'connected.', a);\n      this.setState('connected');\n    });\n\n    subscriptionClient.onConnecting((a) => {\n      this.log.debug('[subscription]', 'connecting...', a);\n      this.setState('connecting');\n    });\n\n    subscriptionClient.onReconnected ((a) => {\n      this.log.debug('[subscription]', 're-connected.', a);\n      this.setState('connected');\n    });\n\n    subscriptionClient.onReconnecting((a) => {\n      this.log.debug('[subscription]', 're-connecting...', a);\n      this.setState('connecting');\n    });\n\n    subscriptionClient.onDisconnected((a) => {\n      this.log.debug('[subscription]', 'disconnected.', a);\n      this.setState('disconnected');\n    });\n\n    subscriptionClient.onError((a) => {\n      this.log.error('[subscription]', 'error', a);\n    });\n\n\n    const ws =  new WebSocketLink(subscriptionClient);\n    ws.setOnError(req => {\n      this.log.error('request error', req);\n    });\n\n    this._subscriptionClient = subscriptionClient;\n    this._webSocketLink = ws;\n  }\n\n  public async reconnect(): Promise<void> {\n    this._subscriptionClient.close(false);\n    while (!this.isConnected) {\n      this.log.debug('waiting for re-connection...');\n      await new Promise((r) => setTimeout(r, 1000));\n    }\n  }\n\n  private setState(state: ConnectionState) {\n    if (this._state === state) return;\n    this._state = state;\n    this.log.info(state);\n  }\n\n  public get isConnected() { return this._state === 'connected'; }\n\n  public get log(): Logger { return this._log; }\n\n  public get webSocketLink(): WebSocketLink { return this._webSocketLink; }\n}\n\n","/Users/zaneclaes/OWS/Makerverse/App/src/lib/Makerverse/reducers.ts",[],[],"/Users/zaneclaes/OWS/Makerverse/App/src/components/Navigation/ReconnectRedirect.tsx",[],"/Users/zaneclaes/OWS/Makerverse/App/src/lib/workspaces/index.ts",[],"/Users/zaneclaes/OWS/Makerverse/App/src/components/Ports/PortStatus.tsx",["264","265"],"/Users/zaneclaes/OWS/Makerverse/App/src/components/Ports/OpenMachinePort.tsx",[],"/Users/zaneclaes/OWS/Makerverse/App/src/components/Ports/PortSelect.tsx",[],"/Users/zaneclaes/OWS/Makerverse/App/src/components/Ports/Styles.ts",[],"/Users/zaneclaes/OWS/Makerverse/App/src/providers/MakerverseProvider.tsx",["266","267"],"import _ from 'lodash';\nimport useLogger from '@openworkshop/lib/utils/logging/UseLogger';\nimport React, { FunctionComponent } from 'react';\nimport {Redirect, Route, Switch, useLocation, Link } from 'react-router-dom';\nimport {OpenWorkShop} from '@openworkshop/lib';\nimport {\n  MakerverseEssentialSettingsFragment, MakerverseSessionFragment,\n} from '../api/graphql';\nimport i18nConfig from '../config/i18n';\nimport analytics from '../lib/analytics';\nimport {IMakerverse, MakerverseContext} from '../lib/Makerverse';\nimport { LoginPage, CallbackPage } from 'components/Login';\nimport usePromise from 'react-promise-suspense';\nimport i18next from 'i18next';\nimport XHR from 'i18next-xhr-backend';\nimport LanguageDetector from 'i18next-browser-languagedetector';\nimport { Workspace } from 'lib/workspaces';\nimport {MakerverseSubscription} from '../lib/Makerverse/apollo';\nimport {AppState} from '../store/redux';\nimport ProtectedApp from '../views/ProtectedApp';\nimport { useSelector } from 'react-redux';\nimport { User } from 'oidc-client';\nimport SystemPortProvider from './SystemPortProvider';\n\nconst workspaceObjects: { [key: string]: Workspace } = {};\n\ninterface IProps {\n  connection: MakerverseSubscription;\n}\n\nconst MakerverseProvider: FunctionComponent<IProps> = (props) => {\n  const log = useLogger(MakerverseProvider);\n  const ows = React.useContext(OpenWorkShop);\n  const { connection } = props;\n  const location = useLocation();\n  const [settings, setSettings] = React.useState<MakerverseEssentialSettingsFragment | undefined>(undefined);\n  const [session, setSession] = React.useState<MakerverseSessionFragment | undefined>(undefined);\n\n  const user = useSelector<AppState, User | undefined>((state) => state.oidc.user);\n  const token = user ? user.access_token : undefined;\n\n  // Load/unload workspaces\n  const workspaceRecords = settings?.workspaces ?? [];\n  const currentWorkspaceIds = workspaceRecords.map(ws => ws.id);\n  const previousWorkspaceIds = Object.keys(workspaceObjects);\n  const newWorkspaceIds = _.difference(currentWorkspaceIds, previousWorkspaceIds);\n  const removedWorkspaceIds = _.difference(previousWorkspaceIds, currentWorkspaceIds);\n\n  removedWorkspaceIds.forEach(id => {\n    log.debug('unload workspace', id);\n    delete workspaceObjects[id];\n  });\n\n  newWorkspaceIds.forEach(id => {\n    const record = _.find(workspaceRecords, r => r.id === id);\n    if (record) {\n      log.debug('load workspace', id);\n      workspaceObjects[id] = new Workspace(ows, record);\n    } else {\n      log.error('missing workspace', id);\n    }\n  });\n\n  const workspaces = Object.values(workspaceObjects);\n  const wsPrefix = '/workspaces/';\n  const path = location.pathname;\n  const currentWorkspaceId = path.startsWith(wsPrefix) ? path.substring(wsPrefix.length) : undefined;\n\n  // Set up the IMakerverse interface for the .Provider...\n  const makerverse: IMakerverse = { ows, connection, session, workspaces };\n\n  usePromise(async () => {\n    log.debug('loading...');\n    await i18next.use(XHR).use(LanguageDetector).init(i18nConfig);\n    analytics.initialize(ows);\n  }, []);\n\n  function onLoaded(u: MakerverseSessionFragment, s: MakerverseEssentialSettingsFragment) {\n    log.debug('loaded', 'session', !!u, 'settings', !!s);\n    setSession(u);\n    setSettings(s);\n  }\n\n  return (\n    <MakerverseContext.Provider value={makerverse} >\n      <SystemPortProvider >\n        <Switch>\n          <Route path='/login' component={LoginPage} />\n          <Route path='/callback' component={CallbackPage} />\n          {user && <Route path='/' >\n            <ProtectedApp token={user.access_token} onLoaded={onLoaded} currentWorkspaceId={currentWorkspaceId} />\n          </Route>}\n          {!user && <Route path='/'>\n            <Redirect to=\"/login\" />\n          </Route>}\n        </Switch>\n      </SystemPortProvider>\n    </MakerverseContext.Provider>\n  );\n};\n\nexport default MakerverseProvider;\n","/Users/zaneclaes/OWS/Makerverse/App/src/providers/MakerverseHooks.ts",[],"/Users/zaneclaes/OWS/Makerverse/App/src/providers/SystemPortProvider.tsx",[],"/Users/zaneclaes/OWS/Makerverse/App/src/providers/SystemPortHooks.ts",[],"/Users/zaneclaes/OWS/Makerverse/App/src/providers/index.ts",[],"/Users/zaneclaes/OWS/Makerverse/App/src/providers/SystemPortContext.ts",[],"/Users/zaneclaes/OWS/Makerverse/App/src/components/Ports/PortConnectionSteps.tsx",[],{"ruleId":"268","severity":1,"message":"269","line":9,"column":16,"nodeType":"270","messageId":"271","endLine":9,"endColumn":24},{"ruleId":"268","severity":1,"message":"272","line":22,"column":49,"nodeType":"270","messageId":"271","endLine":22,"endColumn":54},{"ruleId":"268","severity":1,"message":"273","line":30,"column":9,"nodeType":"270","messageId":"271","endLine":30,"endColumn":18},{"ruleId":"268","severity":1,"message":"274","line":52,"column":12,"nodeType":"270","messageId":"271","endLine":52,"endColumn":23},{"ruleId":"268","severity":1,"message":"275","line":18,"column":9,"nodeType":"270","messageId":"271","endLine":18,"endColumn":16},{"ruleId":"268","severity":1,"message":"276","line":26,"column":9,"nodeType":"270","messageId":"271","endLine":26,"endColumn":21},{"ruleId":"268","severity":1,"message":"277","line":3,"column":3,"nodeType":"270","messageId":"271","endLine":3,"endColumn":7},{"ruleId":"268","severity":1,"message":"278","line":4,"column":3,"nodeType":"270","messageId":"271","endLine":4,"endColumn":14},{"ruleId":"268","severity":1,"message":"279","line":5,"column":3,"nodeType":"270","messageId":"271","endLine":5,"endColumn":14},{"ruleId":"268","severity":1,"message":"280","line":6,"column":3,"nodeType":"270","messageId":"271","endLine":6,"endColumn":13},{"ruleId":"268","severity":1,"message":"281","line":10,"column":3,"nodeType":"270","messageId":"271","endLine":10,"endColumn":10},{"ruleId":"268","severity":1,"message":"282","line":25,"column":10,"nodeType":"270","messageId":"271","endLine":25,"endColumn":20},{"ruleId":"268","severity":1,"message":"283","line":25,"column":22,"nodeType":"270","messageId":"271","endLine":25,"endColumn":33},{"ruleId":"268","severity":1,"message":"272","line":33,"column":46,"nodeType":"270","messageId":"271","endLine":33,"endColumn":51},{"ruleId":"268","severity":1,"message":"284","line":38,"column":17,"nodeType":"270","messageId":"271","endLine":38,"endColumn":25},{"ruleId":"268","severity":1,"message":"285","line":11,"column":3,"nodeType":"270","messageId":"271","endLine":11,"endColumn":13},{"ruleId":"268","severity":1,"message":"272","line":34,"column":45,"nodeType":"270","messageId":"271","endLine":34,"endColumn":50},{"ruleId":"268","severity":1,"message":"286","line":35,"column":9,"nodeType":"270","messageId":"271","endLine":35,"endColumn":12},{"ruleId":"268","severity":1,"message":"287","line":42,"column":17,"nodeType":"270","messageId":"271","endLine":42,"endColumn":24},{"ruleId":"268","severity":1,"message":"288","line":42,"column":26,"nodeType":"270","messageId":"271","endLine":42,"endColumn":31},{"ruleId":"268","severity":1,"message":"289","line":7,"column":9,"nodeType":"270","messageId":"271","endLine":7,"endColumn":28},{"ruleId":"290","severity":1,"message":"291","line":332,"column":3,"nodeType":"292","messageId":"293","endLine":332,"endColumn":50},{"ruleId":"268","severity":1,"message":"294","line":474,"column":23,"nodeType":"270","messageId":"271","endLine":474,"endColumn":59},{"ruleId":"268","severity":1,"message":"294","line":481,"column":26,"nodeType":"270","messageId":"271","endLine":481,"endColumn":62},{"ruleId":"290","severity":1,"message":"291","line":548,"column":3,"nodeType":"292","messageId":"293","endLine":548,"endColumn":39},{"ruleId":"268","severity":1,"message":"286","line":16,"column":9,"nodeType":"270","messageId":"271","endLine":16,"endColumn":12},{"ruleId":"268","severity":1,"message":"295","line":17,"column":9,"nodeType":"270","messageId":"271","endLine":17,"endColumn":19},{"ruleId":"268","severity":1,"message":"296","line":5,"column":10,"nodeType":"270","messageId":"271","endLine":5,"endColumn":19},{"ruleId":"290","severity":1,"message":"291","line":43,"column":23,"nodeType":"297","messageId":"293","endLine":43,"endColumn":59},{"ruleId":"268","severity":1,"message":"298","line":54,"column":11,"nodeType":"270","messageId":"271","endLine":54,"endColumn":20},{"ruleId":"290","severity":1,"message":"291","line":67,"column":15,"nodeType":"297","messageId":"293","endLine":67,"endColumn":38},{"ruleId":"268","severity":1,"message":"299","line":1,"column":10,"nodeType":"270","messageId":"271","endLine":1,"endColumn":23},{"ruleId":"268","severity":1,"message":"300","line":3,"column":8,"nodeType":"270","messageId":"271","endLine":3,"endColumn":9},{"ruleId":"268","severity":1,"message":"301","line":5,"column":9,"nodeType":"270","messageId":"271","endLine":5,"endColumn":24},{"ruleId":"268","severity":1,"message":"302","line":1,"column":8,"nodeType":"270","messageId":"271","endLine":1,"endColumn":13},{"ruleId":"268","severity":1,"message":"303","line":2,"column":9,"nodeType":"270","messageId":"271","endLine":2,"endColumn":26},{"ruleId":"268","severity":1,"message":"304","line":3,"column":8,"nodeType":"270","messageId":"271","endLine":3,"endColumn":18},{"ruleId":"268","severity":1,"message":"305","line":4,"column":9,"nodeType":"270","messageId":"271","endLine":4,"endColumn":34},{"ruleId":"268","severity":1,"message":"306","line":10,"column":26,"nodeType":"270","messageId":"271","endLine":10,"endColumn":38},{"ruleId":"268","severity":1,"message":"307","line":6,"column":9,"nodeType":"270","messageId":"271","endLine":6,"endColumn":22},{"ruleId":"268","severity":1,"message":"308","line":2,"column":9,"nodeType":"270","messageId":"271","endLine":2,"endColumn":21},{"ruleId":"268","severity":1,"message":"309","line":8,"column":10,"nodeType":"270","messageId":"271","endLine":8,"endColumn":14},{"ruleId":"268","severity":1,"message":"310","line":11,"column":10,"nodeType":"270","messageId":"271","endLine":11,"endColumn":21},{"ruleId":"268","severity":1,"message":"269","line":12,"column":15,"nodeType":"270","messageId":"271","endLine":12,"endColumn":23},{"ruleId":"268","severity":1,"message":"311","line":18,"column":9,"nodeType":"270","messageId":"271","endLine":18,"endColumn":17},{"ruleId":"290","severity":1,"message":"291","line":80,"column":3,"nodeType":"292","messageId":"293","endLine":80,"endColumn":27},{"ruleId":"268","severity":1,"message":"286","line":18,"column":9,"nodeType":"270","messageId":"271","endLine":18,"endColumn":12},{"ruleId":"268","severity":1,"message":"312","line":21,"column":9,"nodeType":"270","messageId":"271","endLine":21,"endColumn":17},{"ruleId":"268","severity":1,"message":"313","line":4,"column":47,"nodeType":"270","messageId":"271","endLine":4,"endColumn":51},{"ruleId":"268","severity":1,"message":"314","line":40,"column":9,"nodeType":"270","messageId":"271","endLine":40,"endColumn":14},"@typescript-eslint/no-unused-vars","'Redirect' is defined but never used.","Identifier","unusedVar","'props' is defined but never used.","'isLoading' is assigned a value but never used.","'renderError' is defined but never used.","'history' is assigned a value but never used.","'showUserMenu' is assigned a value but never used.","'Card' is defined but never used.","'CardActions' is defined but never used.","'CardContent' is defined but never used.","'CardHeader' is defined but never used.","'Toolbar' is defined but never used.","'useHistory' is defined but never used.","'useLocation' is defined but never used.","'setGuest' is assigned a value but never used.","'Typography' is defined but never used.","'log' is assigned a value but never used.","'loading' is assigned a value but never used.","'error' is assigned a value but never used.","'WORKFLOW_STATE_IDLE' is defined but never used.","@typescript-eslint/explicit-module-boundary-types","Missing return type on function.","FunctionExpression","missingReturnType","'controllerEvents' is defined but never used.","'makerverse' is assigned a value but never used.","'Workspace' is defined but never used.","ArrowFunctionExpression","'ILocation' is defined but never used.","'IOpenWorkShop' is defined but never used.","'_' is defined but never used.","'WorkspaceRecord' is defined but never used.","'React' is defined but never used.","'MakerverseContext' is defined but never used.","'Workspaces' is defined but never used.","'usePortStatusSubscription' is defined but never used.","'useWorkspace' is defined but never used.","'hasWorkspaces' is assigned a value but never used.","'OpenWorkShop' is defined but never used.","'User' is defined but never used.","'useSelector' is defined but never used.","'AppState' is defined but never used.","'portName' is assigned a value but never used.","'Link' is defined but never used.","'token' is assigned a value but never used."]