[{"/Users/zaneclaes/OWS/OWE/Makerverse/App/src/lib/Makerverse/apollo.ts":"1","/Users/zaneclaes/OWS/OWE/Makerverse/App/src/providers/MakerverseProvider.tsx":"2","/Users/zaneclaes/OWS/OWE/Makerverse/App/src/lib/analytics.ts":"3","/Users/zaneclaes/OWS/OWE/Makerverse/App/src/store/redux.ts":"4","/Users/zaneclaes/OWS/OWE/Makerverse/App/src/providers/SystemPortProvider.tsx":"5","/Users/zaneclaes/OWS/OWE/Makerverse/App/src/views/ProtectedApp.tsx":"6","/Users/zaneclaes/OWS/OWE/Makerverse/App/src/lib/Makerverse/index.ts":"7","/Users/zaneclaes/OWS/OWE/Makerverse/App/src/lib/Makerverse/reducers.ts":"8","/Users/zaneclaes/OWS/OWE/Makerverse/App/src/lib/Makerverse/Workspaces.ts":"9","/Users/zaneclaes/OWS/OWE/Makerverse/App/src/lib/workspaces/index.ts":"10","/Users/zaneclaes/OWS/OWE/Makerverse/App/src/lib/Makerverse/types.ts":"11","/Users/zaneclaes/OWS/OWE/Makerverse/App/src/components/Login/index.ts":"12","/Users/zaneclaes/OWS/OWE/Makerverse/App/src/lib/workspaces/workspace.ts":"13","/Users/zaneclaes/OWS/OWE/Makerverse/App/src/lib/semvers.ts":"14","/Users/zaneclaes/OWS/OWE/Makerverse/App/src/lib/workspaces/active-state.ts":"15","/Users/zaneclaes/OWS/OWE/Makerverse/App/src/lib/workspaces/workspace-axis.ts":"16","/Users/zaneclaes/OWS/OWE/Makerverse/App/src/components/Login/CallbackPage.tsx":"17","/Users/zaneclaes/OWS/OWE/Makerverse/App/src/components/Login/LoginPage.tsx":"18","/Users/zaneclaes/OWS/OWE/Makerverse/App/src/lib/Makerverse/MakerverseContext.ts":"19","/Users/zaneclaes/OWS/OWE/Makerverse/App/src/components/Login/Styles.ts":"20","/Users/zaneclaes/OWS/OWE/Makerverse/App/src/components/Navigation/ReconnectRedirect.tsx":"21","/Users/zaneclaes/OWS/OWE/Makerverse/App/src/providers/SystemPortContext.ts":"22","/Users/zaneclaes/OWS/OWE/Makerverse/App/src/constants/docs.ts":"23","/Users/zaneclaes/OWS/OWE/Makerverse/App/src/views/App.tsx":"24","/Users/zaneclaes/OWS/OWE/Makerverse/App/src/views/index.ts":"25","/Users/zaneclaes/OWS/OWE/Makerverse/App/src/providers/index.ts":"26","/Users/zaneclaes/OWS/OWE/Makerverse/App/src/providers/MakerverseHooks.ts":"27","/Users/zaneclaes/OWS/OWE/Makerverse/App/src/components/Navigation/index.tsx":"28","/Users/zaneclaes/OWS/OWE/Makerverse/App/src/views/Docs/index.tsx":"29","/Users/zaneclaes/OWS/OWE/Makerverse/App/src/views/Workspace/index.tsx":"30","/Users/zaneclaes/OWS/OWE/Makerverse/App/src/views/WorkspaceCreator/index.tsx":"31","/Users/zaneclaes/OWS/OWE/Makerverse/App/src/views/Settings/index.tsx":"32","/Users/zaneclaes/OWS/OWE/Makerverse/App/src/views/Home/index.tsx":"33","/Users/zaneclaes/OWS/OWE/Makerverse/App/src/components/Navigation/Styles.ts":"34","/Users/zaneclaes/OWS/OWE/Makerverse/App/src/components/Navigation/SideDrawer.tsx":"35","/Users/zaneclaes/OWS/OWE/Makerverse/App/src/components/Navigation/HeaderBar.tsx":"36","/Users/zaneclaes/OWS/OWE/Makerverse/App/src/components/Navigation/ProtectedRoute.tsx":"37","/Users/zaneclaes/OWS/OWE/Makerverse/App/src/components/Navigation/NotFound.tsx":"38","/Users/zaneclaes/OWS/OWE/Makerverse/App/src/providers/SystemPortHooks.ts":"39","/Users/zaneclaes/OWS/OWE/Makerverse/App/src/views/WorkspaceCreator/Styles.ts":"40","/Users/zaneclaes/OWS/OWE/Makerverse/App/src/views/WorkspaceCreator/CreateWorkspaceModal.tsx":"41","/Users/zaneclaes/OWS/OWE/Makerverse/App/src/components/Ports/OpenMachinePort.tsx":"42","/Users/zaneclaes/OWS/OWE/Makerverse/App/src/components/Navigation/ListMenu.tsx":"43","/Users/zaneclaes/OWS/OWE/Makerverse/App/src/components/Navigation/UserMenu.tsx":"44","/Users/zaneclaes/OWS/OWE/Makerverse/App/src/components/Ports/Styles.ts":"45","/Users/zaneclaes/OWS/OWE/Makerverse/App/src/components/Ports/PortStatus.tsx":"46","/Users/zaneclaes/OWS/OWE/Makerverse/App/src/components/Ports/PortSelect.tsx":"47","/Users/zaneclaes/OWS/OWE/Makerverse/App/src/components/Ports/PortConnectionSteps.tsx":"48","/Users/zaneclaes/OWS/OWE/Makerverse/App/src/components/Navigation/ListMenuItem.tsx":"49","/Users/zaneclaes/OWS/OWE/Makerverse/App/src/components/Modals/BackendDiconnectedModal.tsx":"50","/Users/zaneclaes/OWS/OWE/Makerverse/App/src/views/Workspace/WorkspaceConnector.tsx":"51","/Users/zaneclaes/OWS/OWE/Makerverse/App/src/components/Workspaces/OpenWorkspaceButton.tsx":"52","/Users/zaneclaes/OWS/OWE/Makerverse/App/src/components/Workspaces/Styles.ts":"53","/Users/zaneclaes/OWS/OWE/Makerverse/App/src/lib/workspaces/types.ts":"54"},{"size":2991,"mtime":1606943037696,"results":"55","hashOfConfig":"56"},{"size":5282,"mtime":1607106471143,"results":"57","hashOfConfig":"56"},{"size":2031,"mtime":1606918987313,"results":"58","hashOfConfig":"56"},{"size":1085,"mtime":1606319571150,"results":"59","hashOfConfig":"56"},{"size":2493,"mtime":1607349801215,"results":"60","hashOfConfig":"56"},{"size":1869,"mtime":1607349724264,"results":"61","hashOfConfig":"56"},{"size":91,"mtime":1606919306373,"results":"62","hashOfConfig":"56"},{"size":515,"mtime":1606319024700,"results":"63","hashOfConfig":"56"},{"size":2086,"mtime":1606919146763,"results":"64","hashOfConfig":"56"},{"size":52,"mtime":1605977443411,"results":"65","hashOfConfig":"56"},{"size":516,"mtime":1606319024702,"results":"66","hashOfConfig":"56"},{"size":110,"mtime":1605810123128,"results":"67","hashOfConfig":"56"},{"size":17713,"mtime":1607348237371,"results":"68","hashOfConfig":"56"},{"size":1031,"mtime":1605726040464,"results":"69","hashOfConfig":"56"},{"size":9880,"mtime":1606497234574,"results":"70","hashOfConfig":"56"},{"size":4959,"mtime":1606241698259,"results":"71","hashOfConfig":"56"},{"size":2602,"mtime":1607349733314,"results":"72","hashOfConfig":"56"},{"size":4036,"mtime":1607349819779,"results":"73","hashOfConfig":"56"},{"size":940,"mtime":1606941826741,"results":"74","hashOfConfig":"56"},{"size":1160,"mtime":1606847416723,"results":"75","hashOfConfig":"56"},{"size":572,"mtime":1606327522536,"results":"76","hashOfConfig":"56"},{"size":422,"mtime":1606577054184,"results":"77","hashOfConfig":"56"},{"size":136,"mtime":1606848450002,"results":"78","hashOfConfig":"56"},{"size":2456,"mtime":1607009568908,"results":"79","hashOfConfig":"56"},{"size":252,"mtime":1605977384904,"results":"80","hashOfConfig":"56"},{"size":35,"mtime":1606568597072,"results":"81","hashOfConfig":"56"},{"size":1533,"mtime":1606941845235,"results":"82","hashOfConfig":"56"},{"size":968,"mtime":1607029480978,"results":"83","hashOfConfig":"56"},{"size":828,"mtime":1607349810670,"results":"84","hashOfConfig":"56"},{"size":838,"mtime":1607355234598,"results":"85","hashOfConfig":"56"},{"size":1910,"mtime":1606919152880,"results":"86","hashOfConfig":"56"},{"size":170,"mtime":1605811767094,"results":"87","hashOfConfig":"56"},{"size":338,"mtime":1606245292423,"results":"88","hashOfConfig":"56"},{"size":2302,"mtime":1606926043546,"results":"89","hashOfConfig":"56"},{"size":1417,"mtime":1607029549359,"results":"90","hashOfConfig":"56"},{"size":1453,"mtime":1606240046501,"results":"91","hashOfConfig":"56"},{"size":944,"mtime":1605811448830,"results":"92","hashOfConfig":"56"},{"size":380,"mtime":1605811998908,"results":"93","hashOfConfig":"56"},{"size":200,"mtime":1606577019220,"results":"94","hashOfConfig":"56"},{"size":349,"mtime":1606847488726,"results":"95","hashOfConfig":"56"},{"size":8072,"mtime":1607349819774,"results":"96","hashOfConfig":"56"},{"size":6421,"mtime":1607355137093,"results":"97","hashOfConfig":"56"},{"size":3084,"mtime":1607029671215,"results":"98","hashOfConfig":"56"},{"size":3286,"mtime":1607009701910,"results":"99","hashOfConfig":"56"},{"size":620,"mtime":1607015116961,"results":"100","hashOfConfig":"56"},{"size":3220,"mtime":1607273542895,"results":"101","hashOfConfig":"56"},{"size":2965,"mtime":1607349792016,"results":"102","hashOfConfig":"56"},{"size":4630,"mtime":1607349781197,"results":"103","hashOfConfig":"56"},{"size":989,"mtime":1606501901763,"results":"104","hashOfConfig":"56"},{"size":1493,"mtime":1607097756376,"results":"105","hashOfConfig":"56"},{"size":1726,"mtime":1607355219085,"results":"106","hashOfConfig":"56"},{"size":2985,"mtime":1607350377521,"results":"107","hashOfConfig":"56"},{"size":434,"mtime":1607020527313,"results":"108","hashOfConfig":"56"},{"size":275,"mtime":1607277427380,"results":"109","hashOfConfig":"56"},{"filePath":"110","messages":"111","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"112"},"136b5ih",{"filePath":"113","messages":"114","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"115","usedDeprecatedRules":"112"},{"filePath":"116","messages":"117","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"112"},{"filePath":"118","messages":"119","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"112"},{"filePath":"120","messages":"121","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"122","messages":"123","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"124","messages":"125","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"112"},{"filePath":"126","messages":"127","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"112"},{"filePath":"128","messages":"129","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"130","usedDeprecatedRules":"112"},{"filePath":"131","messages":"132","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"112"},{"filePath":"133","messages":"134","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"112"},{"filePath":"135","messages":"136","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"112"},{"filePath":"137","messages":"138","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"112"},{"filePath":"139","messages":"140","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"112"},{"filePath":"141","messages":"142","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"112"},{"filePath":"143","messages":"144","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"112"},{"filePath":"145","messages":"146","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"147","messages":"148","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"149","messages":"150","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"112"},{"filePath":"151","messages":"152","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"112"},{"filePath":"153","messages":"154","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"112"},{"filePath":"155","messages":"156","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"112"},{"filePath":"157","messages":"158","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"112"},{"filePath":"159","messages":"160","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"112"},{"filePath":"161","messages":"162","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"112"},{"filePath":"163","messages":"164","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"112"},{"filePath":"165","messages":"166","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"112"},{"filePath":"167","messages":"168","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"112"},{"filePath":"169","messages":"170","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"171","messages":"172","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"173","messages":"174","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"112"},{"filePath":"175","messages":"176","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"112"},{"filePath":"177","messages":"178","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"179","usedDeprecatedRules":"112"},{"filePath":"180","messages":"181","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"112"},{"filePath":"182","messages":"183","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"112"},{"filePath":"184","messages":"185","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"186","usedDeprecatedRules":"112"},{"filePath":"187","messages":"188","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"112"},{"filePath":"189","messages":"190","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"112"},{"filePath":"191","messages":"192","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"112"},{"filePath":"193","messages":"194","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"112"},{"filePath":"195","messages":"196","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"112"},{"filePath":"197","messages":"198","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"199","messages":"200","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"201","usedDeprecatedRules":"112"},{"filePath":"202","messages":"203","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"112"},{"filePath":"204","messages":"205","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"112"},{"filePath":"206","messages":"207","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"208","usedDeprecatedRules":"112"},{"filePath":"209","messages":"210","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"211","messages":"212","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"213","messages":"214","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"112"},{"filePath":"215","messages":"216","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"112"},{"filePath":"217","messages":"218","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"219","messages":"220","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"221","messages":"222","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"112"},{"filePath":"223","messages":"224","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"225","usedDeprecatedRules":"112"},"/Users/zaneclaes/OWS/OWE/Makerverse/App/src/lib/Makerverse/apollo.ts",[],[],"/Users/zaneclaes/OWS/OWE/Makerverse/App/src/providers/MakerverseProvider.tsx",["226"],"import _ from 'lodash';\nimport useLogger from '@openworkshop/lib/utils/logging/UseLogger';\nimport React, { FunctionComponent } from 'react';\nimport {Redirect, Route, Switch, useLocation, Link } from 'react-router-dom';\nimport {OpenWorkShop} from '@openworkshop/lib';\nimport {\n  StartupFragment,\n  MakerverseEssentialSettingsFragment,\n  MakerverseSessionFragment,\n  useWorkspaceChangeSubscription,\n  WorkspaceFullFragment,\n  WorkspaceState,\n} from '../api/graphql';\nimport i18nConfig from '../config/i18n';\nimport analytics from '../lib/analytics';\nimport {IMakerverse, MakerverseContext} from '../lib/Makerverse';\nimport { LoginPage, CallbackPage } from 'components/Login';\nimport usePromise from 'react-promise-suspense';\nimport i18next from 'i18next';\nimport XHR from 'i18next-xhr-backend';\nimport LanguageDetector from 'i18next-browser-languagedetector';\nimport { Workspace } from 'lib/workspaces';\nimport {BackendConnection} from '../lib/Makerverse/apollo';\nimport {AppState} from '../store/redux';\nimport ProtectedApp from '../views/ProtectedApp';\nimport { useSelector } from 'react-redux';\nimport { User } from 'oidc-client';\nimport SystemPortProvider from './SystemPortProvider';\n\nconst workspaceObjects: { [key: string]: Workspace } = {};\n\ninterface IProps {\n  connection: BackendConnection;\n}\n\nconst MakerverseProvider: FunctionComponent<IProps> = (props) => {\n  const log = useLogger(MakerverseProvider);\n  const ows = React.useContext(OpenWorkShop);\n  const onWorkspaceChanged = useWorkspaceChangeSubscription();\n  const { connection } = props;\n  const location = useLocation();\n  const [workspaceFragments, setWorkspaceFragments] = React.useState<WorkspaceFullFragment[]>([]);\n  const [settings, setSettings] = React.useState<MakerverseEssentialSettingsFragment | undefined>(undefined);\n  const [session, setSession] = React.useState<MakerverseSessionFragment | undefined>(undefined);\n\n  const user = useSelector<AppState, User | undefined>((state) => state.oidc.user);\n\n  // Load/unload workspaces\n  const currentWorkspaceIds = workspaceFragments.map(ws => ws.id);\n  const previousWorkspaceIds = Object.keys(workspaceObjects);\n  const newWorkspaceIds = _.difference(currentWorkspaceIds, previousWorkspaceIds);\n  const removedWorkspaceIds = _.difference(previousWorkspaceIds, currentWorkspaceIds);\n\n  removedWorkspaceIds.forEach(id => {\n    log.debug('unload workspace', id);\n    delete workspaceObjects[id];\n  });\n\n  newWorkspaceIds.forEach(id => {\n    const frag = _.find(workspaceFragments, r => r.id === id);\n    if (frag) {\n      log.debug('load workspace', id);\n      workspaceObjects[id] = new Workspace(ows, frag);\n    } else {\n      log.error('missing workspace', id);\n    }\n  });\n\n  const workspaces = Object.values(workspaceObjects);\n  const wsPrefix = '/workspaces/';\n  const path = location.pathname;\n  const currentWorkspaceId = path.startsWith(wsPrefix) ? path.substring(wsPrefix.length) : undefined;\n\n  // Apply subscription mutations\n  React.useEffect(() => {\n    if (settings && onWorkspaceChanged.data && onWorkspaceChanged.data.workspace) {\n      const workspaceFragment: WorkspaceFullFragment = onWorkspaceChanged.data.workspace;\n\n      const changedWorkspaceId = workspaceFragment.id;\n      const newFragments = [...workspaceFragments];\n\n      if (workspaceFragment.state === WorkspaceState.Deleted) {\n        log.debug('[WORKSPACE]', 'delete', changedWorkspaceId, workspaceFragment);\n        const ei = _.findIndex(newFragments, ws => ws.id === changedWorkspaceId);\n        if (ei >= 0) {\n          newFragments.splice(ei, 1);\n        }\n      } else if (_.has(workspaceObjects, changedWorkspaceId)) {\n        log.debug('[WORKSPACE]', 'update', changedWorkspaceId, workspaceFragment);\n        workspaceObjects[changedWorkspaceId].updateRecord(workspaceFragment);\n      } else {\n        log.debug('[WORKSPACE]', 'add', changedWorkspaceId, workspaceFragment);\n        newFragments.push(workspaceFragment);\n        setWorkspaceFragments(newFragments);\n      }\n    }\n  }, [workspaceObjects, onWorkspaceChanged]);\n\n  // Set up the IMakerverse interface for the .Provider...\n  const makerverse: IMakerverse = { ows, connection, session, workspaces };\n\n  usePromise(async () => {\n    log.debug('loading...');\n    await i18next.use(XHR).use(LanguageDetector).init(i18nConfig);\n    analytics.initialize(ows);\n  }, []);\n\n  function onLoaded(session: MakerverseSessionFragment, startup: StartupFragment) {\n    log.debug('loaded', 'session', !!session, 'settings', !!startup);\n    setSession(session);\n    setSettings(startup.settings);\n    setWorkspaceFragments(startup.workspaces);\n  }\n\n  return (\n    <MakerverseContext.Provider value={makerverse} >\n      <SystemPortProvider >\n        <Switch>\n          <Route path='/login' component={LoginPage} />\n          <Route path='/callback' component={CallbackPage} />\n          {user && <Route path='/' >\n            <ProtectedApp\n              token={user.access_token}\n              onLoaded={onLoaded}\n              currentWorkspaceId={currentWorkspaceId}\n            />\n          </Route>}\n          {!user && <Route path='/'>\n            <Redirect to=\"/login\" />\n          </Route>}\n        </Switch>\n      </SystemPortProvider>\n    </MakerverseContext.Provider>\n  );\n};\n\nexport default MakerverseProvider;\n","/Users/zaneclaes/OWS/OWE/Makerverse/App/src/lib/analytics.ts",[],"/Users/zaneclaes/OWS/OWE/Makerverse/App/src/store/redux.ts",[],"/Users/zaneclaes/OWS/OWE/Makerverse/App/src/providers/SystemPortProvider.tsx",[],"/Users/zaneclaes/OWS/OWE/Makerverse/App/src/views/ProtectedApp.tsx",[],"/Users/zaneclaes/OWS/OWE/Makerverse/App/src/lib/Makerverse/index.ts",[],"/Users/zaneclaes/OWS/OWE/Makerverse/App/src/lib/Makerverse/reducers.ts",[],"/Users/zaneclaes/OWS/OWE/Makerverse/App/src/lib/Makerverse/Workspaces.ts",["227"],"import Workspace from 'lib/workspaces/workspace';\n\n// export type WorkspaceMap = { [key: string]: Workspace };\n\nexport default class Workspaces {\n  // _makerverse: IMakerverse;\n\n  // _currentWorkspace?: Workspace = undefined;\n  //\n  // _all: WorkspaceMap = {};\n  //\n  // _log?: Logger = undefined;\n  //\n  // constructor(makerverse: IMakerverse) {\n  //   this._makerverse = makerverse;\n  // }\n  //\n  // get all(): WorkspaceMap {\n  //   return this._all;\n  // }\n  //\n  // get current(): Workspace | undefined {\n  //   return this._currentWorkspace;\n  // }\n  //\n  // set current(ws: Workspace | undefined) {\n  //   this.log.debug('setting workspace to', ws?.id);\n  //   if (this.current) {\n  //     if (ws && ws.id === this.current.id) {\n  //       return;\n  //     }\n  //     this.current.isActive = false;\n  //   }\n  //   this._currentWorkspace = ws;\n  //   if (this.current) {\n  //     this.current.isActive = true;\n  //   }\n  // }\n  //\n  // findByPath(path: string): Workspace | undefined {\n  //   if (path.startsWith('/workspaces')) {\n  //     path = path.substring('/workspaces'.length);\n  //   }\n  //   return _.find(this.all, (w) => {\n  //     return w.path === path;\n  //   });\n  // }\n  // //\n  // // load(mv: IMakerverse, record: WorkspaceRecord): Workspace | undefined {\n  // //   const id: string = record.id;\n  // //   if (_.has(this.all, id)) {\n  // //     this.all[id]._record = {\n  // //       ...this.all[id]._record,\n  // //       ...record,\n  // //     };\n  // //   } else {\n  // //     this.all[id] = new Workspace(mv, record);\n  // //   }\n  // //   return this.all[id];\n  // // }\n  //\n  // async unload(id: string): Promise<void> {\n  //   if (!_.has(this.all, id)) {\n  //     return;\n  //   }\n  //   const workspace = this.all[id];\n  //   workspace.removeControllerEvents(workspace._controllerEvents);\n  //   await workspace.closePort();\n  //   delete this.all[id];\n  // }\n  //\n  // disconnect(): void {\n  //   Object.keys(this.all).map((id) => {\n  //     const workspace: Workspace = this.all[id];\n  //     void workspace.controller.disconnect();\n  //   });\n  // }\n}\n","/Users/zaneclaes/OWS/OWE/Makerverse/App/src/lib/workspaces/index.ts",[],"/Users/zaneclaes/OWS/OWE/Makerverse/App/src/lib/Makerverse/types.ts",[],"/Users/zaneclaes/OWS/OWE/Makerverse/App/src/components/Login/index.ts",[],"/Users/zaneclaes/OWS/OWE/Makerverse/App/src/lib/workspaces/workspace.ts",[],"/Users/zaneclaes/OWS/OWE/Makerverse/App/src/lib/semvers.ts",[],"/Users/zaneclaes/OWS/OWE/Makerverse/App/src/lib/workspaces/active-state.ts",[],"/Users/zaneclaes/OWS/OWE/Makerverse/App/src/lib/workspaces/workspace-axis.ts",[],"/Users/zaneclaes/OWS/OWE/Makerverse/App/src/components/Login/CallbackPage.tsx",[],"/Users/zaneclaes/OWS/OWE/Makerverse/App/src/components/Login/LoginPage.tsx",["228"],"/Users/zaneclaes/OWS/OWE/Makerverse/App/src/lib/Makerverse/MakerverseContext.ts",[],"/Users/zaneclaes/OWS/OWE/Makerverse/App/src/components/Login/Styles.ts",[],"/Users/zaneclaes/OWS/OWE/Makerverse/App/src/components/Navigation/ReconnectRedirect.tsx",[],"/Users/zaneclaes/OWS/OWE/Makerverse/App/src/providers/SystemPortContext.ts",[],"/Users/zaneclaes/OWS/OWE/Makerverse/App/src/constants/docs.ts",[],"/Users/zaneclaes/OWS/OWE/Makerverse/App/src/views/App.tsx",[],"/Users/zaneclaes/OWS/OWE/Makerverse/App/src/views/index.ts",[],"/Users/zaneclaes/OWS/OWE/Makerverse/App/src/providers/index.ts",[],"/Users/zaneclaes/OWS/OWE/Makerverse/App/src/providers/MakerverseHooks.ts",[],"/Users/zaneclaes/OWS/OWE/Makerverse/App/src/components/Navigation/index.tsx",[],"/Users/zaneclaes/OWS/OWE/Makerverse/App/src/views/Docs/index.tsx",[],"/Users/zaneclaes/OWS/OWE/Makerverse/App/src/views/Workspace/index.tsx",["229"],"/Users/zaneclaes/OWS/OWE/Makerverse/App/src/views/WorkspaceCreator/index.tsx",[],"/Users/zaneclaes/OWS/OWE/Makerverse/App/src/views/Settings/index.tsx",[],"/Users/zaneclaes/OWS/OWE/Makerverse/App/src/views/Home/index.tsx",["230"],"import React, { FunctionComponent } from 'react';\nimport {MakerverseContext} from '../../lib/Makerverse';\n\nconst Home: FunctionComponent = () => {\n  const makerverse = React.useContext(MakerverseContext);\n  const hasWorkspaces = makerverse.workspaces.length > 0;\n\n  return (\n    <div>\n      Home\n\n    </div>\n  );\n};\n\nexport default Home;\n","/Users/zaneclaes/OWS/OWE/Makerverse/App/src/components/Navigation/Styles.ts",[],"/Users/zaneclaes/OWS/OWE/Makerverse/App/src/components/Navigation/SideDrawer.tsx",[],"/Users/zaneclaes/OWS/OWE/Makerverse/App/src/components/Navigation/HeaderBar.tsx",["231","232"],"import { AppBar, IconButton, Toolbar, Typography } from '@material-ui/core';\nimport useLogger from '@openworkshop/lib/utils/logging/UseLogger';\nimport React, { FunctionComponent } from 'react';\nimport settings from '../../config/settings';\nimport { MakerverseContext } from '../../lib/Makerverse';\nimport useStyles from './Styles';\nimport UserMenu from './UserMenu';\n\ninterface OwnProps {\n  toggleDrawerOpen: () => void;\n}\n\ntype Props = OwnProps;\n\nconst HeaderBar: FunctionComponent<Props> = (props) => {\n  const log = useLogger(HeaderBar);\n  const makerverse = React.useContext(MakerverseContext);\n  // const workspace = makerverse.workspaces.current;\n  const classes = useStyles();\n\n  // const bk = workspace ? { backgroundColor: workspace.hexColor } : {};\n  // log.debug('workspace', workspace, bk);\n\n  return (\n    <AppBar position='fixed' className={classes.appBar}>\n      <Toolbar className={classes.toolbar} >\n        <IconButton\n          aria-label='open drawer'\n          edge='start'\n          onClick={() => props.toggleDrawerOpen()}\n          className={classes.menuButton}\n        >\n          <img\n            src=\"/images/logos/makerverse.png\"\n            className={classes.sidebarIcon}\n          />\n        </IconButton>\n        <Typography variant='h1' noWrap className={classes.headerTitle}>\n          {settings.productName}\n        </Typography>\n        <UserMenu />\n      </Toolbar>\n    </AppBar>\n  );\n};\n\nexport default HeaderBar;\n","/Users/zaneclaes/OWS/OWE/Makerverse/App/src/components/Navigation/ProtectedRoute.tsx",[],"/Users/zaneclaes/OWS/OWE/Makerverse/App/src/components/Navigation/NotFound.tsx",[],"/Users/zaneclaes/OWS/OWE/Makerverse/App/src/providers/SystemPortHooks.ts",[],"/Users/zaneclaes/OWS/OWE/Makerverse/App/src/views/WorkspaceCreator/Styles.ts",[],"/Users/zaneclaes/OWS/OWE/Makerverse/App/src/views/WorkspaceCreator/CreateWorkspaceModal.tsx",[],"/Users/zaneclaes/OWS/OWE/Makerverse/App/src/components/Ports/OpenMachinePort.tsx",[],"/Users/zaneclaes/OWS/OWE/Makerverse/App/src/components/Navigation/ListMenu.tsx",["233","234","235","236"],"import _ from 'lodash';\nimport useLogger from '@openworkshop/lib/utils/logging/UseLogger';\nimport { OpenWorkShopIcon } from '@openworkshop/ui/components';\nimport React, { FunctionComponent } from 'react';\nimport {\n  makeStyles,\n  Theme,\n  createStyles,\n  Divider,\n  List,\n  Typography,\n} from '@material-ui/core';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCogs, faProjectDiagram, faQuestionCircle } from '@fortawesome/free-solid-svg-icons';\nimport { faUsb } from '@fortawesome/free-brands-svg-icons';\nimport { useTranslation } from 'react-i18next';\nimport { IconProp } from '@fortawesome/fontawesome-svg-core';\nimport {PortStatusFragment, useListPortsQuery} from '../../api/graphql';\nimport {MakerverseContext} from '../../lib/Makerverse';\nimport PortStatus from '../Ports/PortStatus';\nimport ListMenuItem from './ListMenuItem';\nimport {useSystemPorts} from '../../providers/SystemPortHooks';\n\ninterface OwnProps {\n  isOpen: boolean;\n}\n\ntype Props = OwnProps;\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    toolbar: theme.mixins.toolbar,\n  }),\n);\n\nconst ListMenu: FunctionComponent<Props> = (props) => {\n  const log = useLogger(ListMenu);\n  const ports = useSystemPorts();\n  const portList: PortStatusFragment[] = Object.values(ports.portMap);\n  const { t } = useTranslation();\n  const classes = useStyles();\n  const makerverse = React.useContext(MakerverseContext);\n  const showWorkspaces = makerverse.workspaces.length > 0;\n  const iconStyle = { width: 24, height: 24, marginLeft: -2 };\n\n  function renderRouteItem(route: string, text: string, icon: IconProp, t2?: string) {\n    const i = <FontAwesomeIcon size='lg' style={iconStyle} icon={icon} />;\n    const st = t2 ? <React.Fragment>{t2}</React.Fragment> : undefined;\n    return <ListMenuItem to={route} title={text} icon={i} subcomponent={st} />;\n  }\n\n  return (\n    <div>\n      <div className={classes.toolbar} />\n      {showWorkspaces && <React.Fragment>\n        <Divider />\n        <List>\n          {makerverse.workspaces.map((workspace) => {\n            const route = `/workspaces/${workspace.id}`;\n            const icon = <OpenWorkShopIcon style={iconStyle} name={workspace.icon ?? 'xyz'} />;\n            const port = portList.length > 0 ?\n              _.find(portList, p => p.portName === workspace.connection.portName) : undefined;\n\n            return <ListMenuItem\n              key={workspace.id}\n              to={route}\n              title={workspace.name}\n              icon={icon}\n              subcomponent={<PortStatus port={port} />}\n            />;\n          })}\n        </List>\n        <Divider />\n      </React.Fragment>}\n      <List>\n        {renderRouteItem('/home', t('Projects'), faProjectDiagram, t('MakerHub'))}\n        {renderRouteItem('/workspaces', t('Connect'), faUsb, t('Create a Workspace'))}\n        {renderRouteItem('/settings', t('Settings'), faCogs, t('& Useful Information'))}\n        {renderRouteItem('/docs', t('Documentation'), faQuestionCircle, t('& Support Requests'))}\n      </List>\n    </div>\n  );\n};\n\nexport default ListMenu;\n","/Users/zaneclaes/OWS/OWE/Makerverse/App/src/components/Navigation/UserMenu.tsx",[],"/Users/zaneclaes/OWS/OWE/Makerverse/App/src/components/Ports/Styles.ts",[],"/Users/zaneclaes/OWS/OWE/Makerverse/App/src/components/Ports/PortStatus.tsx",["237"],"import useLogger from '@openworkshop/lib/utils/logging/UseLogger';\nimport React, {FunctionComponent} from 'react';\nimport {FirmwareRequirementFragment, PortState} from '../../api/graphql';\nimport {useTranslation} from 'react-i18next';\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome';\nimport {faUsb} from '@fortawesome/free-brands-svg-icons';\nimport {faExclamationCircle, faMicrochip, faPlug} from '@fortawesome/free-solid-svg-icons';\nimport {Typography, useTheme} from '@material-ui/core';\nimport {IMaybeHavePortStatus} from './types';\n\ninterface OwnProps {\n  showType?: boolean;\n  showName?: boolean;\n}\n\ntype Props = IMaybeHavePortStatus & OwnProps;\n\nconst PortStatus: FunctionComponent<Props> = (props) => {\n  const { t } = useTranslation();\n  const log = useLogger(PortStatus);\n  const theme = useTheme();\n  const { port, showType, showName } = props;\n  const portName = port ? port.portName : undefined;\n  const st = port ? port.state : PortState.Unplugged;\n\n  function getPortStatusText() {\n    if (!port || st === PortState.Unplugged) return t('Unplugged');\n\n    if (st === PortState.Error) return t('Error');\n    if (st === PortState.HasFirmware) return t('Handshaking');\n    if (st === PortState.Ready) return t('Available');\n    if (st === PortState.Startup) return t('Startup');\n    if (st === PortState.Opening) return t('Connecting');\n    if (st === PortState.HasData) return t('Querying');\n\n    // It is active, but what kind?\n    if (port.connection) {\n      if (port.connection.status.bytesToRead > 0) return t('Reading');\n      if (port.connection.status.bytesToWrite > 0) return t('Writing');\n    }\n    return t('Active');\n  }\n\n  function getPortColor() {\n    if (!port || st === PortState.Unplugged) return theme.palette.grey.A400;\n    if (st === PortState.Error) return theme.palette.error.main;\n    if (st === PortState.Ready) return theme.palette.primary.light;\n\n    const activeStates = [PortState.Opening, PortState.Startup, PortState.HasData, PortState.HasFirmware];\n    const hasData = port.connection &&\n      (port.connection.status.bytesToRead > 0 || port.connection.status.bytesToWrite > 0);\n    if ((st && activeStates.includes(st)) || hasData) return theme.palette.secondary.dark;\n\n    if (st === PortState.Active) return theme.palette.primary.light;\n\n    return theme.palette.grey.A700;\n  }\n\n  function getPortIcon() {\n    if (!port || st === PortState.Unplugged) return faUsb;\n    if (port.state === PortState.Error) return faExclamationCircle;\n    if (!port.connection) return faUsb;\n    if (port.state === PortState.Active) return faMicrochip;\n    return faPlug;\n  }\n\n  const color = getPortColor();\n  log.verbose('port', portName, 'status', st);\n\n  return (\n    <React.Fragment >\n      {showType && port && port.connection && <Typography variant=\"subtitle1\">\n        [{port.connection.machine.firmwareRequirement.controllerType}]\n      </Typography>}\n      {showName && port && port.portName && <Typography variant=\"subtitle2\">\n        {port.portName}\n      </Typography>}\n      <FontAwesomeIcon color={color} icon={ getPortIcon() } style={{ marginRight: theme.spacing(1) }} />\n      {' '}{getPortStatusText()}\n    </React.Fragment>\n  );\n};\n\nexport default PortStatus;\n","/Users/zaneclaes/OWS/OWE/Makerverse/App/src/components/Ports/PortSelect.tsx",[],"/Users/zaneclaes/OWS/OWE/Makerverse/App/src/components/Ports/PortConnectionSteps.tsx",[],"/Users/zaneclaes/OWS/OWE/Makerverse/App/src/components/Navigation/ListMenuItem.tsx",[],"/Users/zaneclaes/OWS/OWE/Makerverse/App/src/components/Modals/BackendDiconnectedModal.tsx",[],"/Users/zaneclaes/OWS/OWE/Makerverse/App/src/views/Workspace/WorkspaceConnector.tsx",["238"],"/Users/zaneclaes/OWS/OWE/Makerverse/App/src/components/Workspaces/OpenWorkspaceButton.tsx",[],"/Users/zaneclaes/OWS/OWE/Makerverse/App/src/components/Workspaces/Styles.ts",[],"/Users/zaneclaes/OWS/OWE/Makerverse/App/src/lib/workspaces/types.ts",["239"],"import {WorkspaceFullFragment} from '../../api/graphql';\nimport WorkspaceAxis from './workspace-axis';\n\nexport type ControllerEventMap = { [key: string]: () => void };\n\nexport type WorkspaceAxisMap = { [key: string]: WorkspaceAxis };\n\nexport enum WorkspaceEvent {\n  State,\n}\n",{"ruleId":"240","severity":1,"message":"241","line":4,"column":47,"nodeType":"242","messageId":"243","endLine":4,"endColumn":51},{"ruleId":"240","severity":1,"message":"244","line":1,"column":8,"nodeType":"242","messageId":"243","endLine":1,"endColumn":17},{"ruleId":"240","severity":1,"message":"245","line":26,"column":17,"nodeType":"242","messageId":"243","endLine":26,"endColumn":25},{"ruleId":"240","severity":1,"message":"246","line":4,"column":9,"nodeType":"242","messageId":"243","endLine":4,"endColumn":18},{"ruleId":"240","severity":1,"message":"247","line":6,"column":9,"nodeType":"242","messageId":"243","endLine":6,"endColumn":22},{"ruleId":"240","severity":1,"message":"248","line":16,"column":9,"nodeType":"242","messageId":"243","endLine":16,"endColumn":12},{"ruleId":"240","severity":1,"message":"249","line":17,"column":9,"nodeType":"242","messageId":"243","endLine":17,"endColumn":19},{"ruleId":"240","severity":1,"message":"250","line":11,"column":3,"nodeType":"242","messageId":"243","endLine":11,"endColumn":13},{"ruleId":"240","severity":1,"message":"251","line":18,"column":29,"nodeType":"242","messageId":"243","endLine":18,"endColumn":46},{"ruleId":"240","severity":1,"message":"252","line":35,"column":45,"nodeType":"242","messageId":"243","endLine":35,"endColumn":50},{"ruleId":"240","severity":1,"message":"248","line":36,"column":9,"nodeType":"242","messageId":"243","endLine":36,"endColumn":12},{"ruleId":"240","severity":1,"message":"253","line":3,"column":9,"nodeType":"242","messageId":"243","endLine":3,"endColumn":36},{"ruleId":"240","severity":1,"message":"248","line":17,"column":9,"nodeType":"242","messageId":"243","endLine":17,"endColumn":12},{"ruleId":"240","severity":1,"message":"254","line":1,"column":9,"nodeType":"242","messageId":"243","endLine":1,"endColumn":30},"@typescript-eslint/no-unused-vars","'Link' is defined but never used.","Identifier","unusedVar","'Workspace' is defined but never used.","'setGuest' is assigned a value but never used.","'PortState' is defined but never used.","'hasWorkspaces' is assigned a value but never used.","'log' is assigned a value but never used.","'makerverse' is assigned a value but never used.","'Typography' is defined but never used.","'useListPortsQuery' is defined but never used.","'props' is defined but never used.","'FirmwareRequirementFragment' is defined but never used.","'WorkspaceFullFragment' is defined but never used."]